/* ===== TOUCH OPTIMIZATIONS FOR TPV/POS SYSTEM ===== */

/* CSS Custom Properties for Touch */
:root {
  --touch-target-size: 2.75rem; /* 44px - Apple HIG minimum */
  --touch-target-large: 3rem; /* 48px - Larger targets for primary actions */
  --touch-target-xl: 3.5rem; /* 56px - Extra large for critical actions */
  --touch-spacing: 0.5rem; /* 8px - Minimum spacing between touch targets */
  --touch-spacing-md: 0.75rem; /* 12px - Medium spacing */
  --touch-spacing-lg: 1rem; /* 16px - Large spacing */
  --touch-feedback-scale: 0.95; /* Scale down on touch */
  --touch-feedback-duration: 0.1s;
  --touch-ripple-duration: 0.6s;
}

/* Touch Target Base Classes */
.touch-target {
  min-height: var(--touch-target-size);
  min-width: var(--touch-target-size);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.touch-target-lg {
  min-height: var(--touch-target-large);
  min-width: var(--touch-target-large);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.touch-target-xl {
  min-height: var(--touch-target-xl);
  min-width: var(--touch-target-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Touch Spacing Utilities */
.touch-spacing {
  gap: var(--touch-spacing);
}

.touch-spacing-md {
  gap: var(--touch-spacing-md);
}

.touch-spacing-lg {
  gap: var(--touch-spacing-lg);
}

/* Touch Feedback Animations */
.touch-feedback {
  transition: transform var(--touch-feedback-duration) ease-in-out;
  cursor: pointer;
}

.touch-feedback:active {
  transform: scale(var(--touch-feedback-scale));
}

.touch-feedback:hover {
  transform: scale(1.02);
}

/* Ripple Effect (when enabled) */
.touch-ripple-enabled .touch-ripple {
  position: relative;
  overflow: hidden;
}

.touch-ripple-enabled .touch-ripple::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.15;
  transform: translate(-50%, -50%);
  transition:
    width var(--touch-ripple-duration) ease,
    height var(--touch-ripple-duration) ease;
}

.touch-ripple-enabled .touch-ripple:active::before {
  width: 300px;
  height: 300px;
}

/* Enhanced Touch States */
.touch-enhanced {
  position: relative;
  border-radius: 0.5rem;
  transition: all 0.15s ease;
}

.touch-enhanced:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.touch-enhanced:active {
  transform: translateY(1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* TPV-Specific Touch Optimizations */

/* Product Buttons */
.product-button {
  /* touch-target-lg */
  min-height: var(--touch-target-large);
  min-width: var(--touch-target-large);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  /* touch-feedback */
  transition: transform var(--touch-feedback-duration) ease-in-out;
  cursor: pointer;
  /* touch-ripple */
  position: relative;
  overflow: hidden;
  /* custom */
  min-width: 3.75rem;
  min-height: 3.75rem;
  padding: 0.75rem;
  border-radius: 0.75rem;
  font-weight: 600;
  font-size: 0.875rem;
  line-height: 1.2;
}

.product-button:active {
  transform: scale(var(--touch-feedback-scale));
}

.product-button:hover {
  transform: scale(1.02);
}

/* Category Buttons */
.category-button {
  /* touch-target-lg */
  min-height: var(--touch-target-large);
  min-width: var(--touch-target-large);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  /* touch-feedback */
  transition: transform var(--touch-feedback-duration) ease-in-out;
  cursor: pointer;
  /* custom */
  min-height: 3.5rem;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  font-weight: 500;
}

.category-button:active {
  transform: scale(var(--touch-feedback-scale));
}

.category-button:hover {
  transform: scale(1.02);
}

/* Order Controls */
.order-control {
  /* touch-target */
  min-height: var(--touch-target-size);
  min-width: var(--touch-target-size);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  /* touch-feedback */
  transition: transform var(--touch-feedback-duration) ease-in-out;
  cursor: pointer;
  /* custom */
  border-radius: 0.5rem;
  font-weight: 600;
}

.order-control:active {
  transform: scale(var(--touch-feedback-scale));
}

.order-control:hover {
  transform: scale(1.02);
}

/* Payment Button */
.payment-button {
  /* touch-target-xl */
  min-height: var(--touch-target-xl);
  min-width: var(--touch-target-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  /* touch-feedback */
  transition:
    transform var(--touch-feedback-duration) ease-in-out,
    all 0.15s ease;
  cursor: pointer;
  /* touch-enhanced */
  position: relative;
  border-radius: 0.5rem;
  /* custom */
  min-height: 4rem;
  padding: 1rem 2rem;
  border-radius: 0.75rem;
  font-size: 1.125rem;
  font-weight: 700;
}

.payment-button:active {
  transform: scale(var(--touch-feedback-scale)) translateY(1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.payment-button:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Table Selection Buttons */
.table-button {
  /* touch-target */
  min-height: var(--touch-target-size);
  min-width: var(--touch-target-size);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  /* touch-feedback */
  transition: transform var(--touch-feedback-duration) ease-in-out;
  cursor: pointer;
  /* custom */
  min-width: 4rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  font-weight: 500;
  font-size: 0.875rem;
}

.table-button:active {
  transform: scale(var(--touch-feedback-scale));
}

.table-button:hover {
  transform: scale(1.02);
}

/* Number Input Controls */
.number-input-control {
  /* touch-target */
  min-height: var(--touch-target-size);
  min-width: var(--touch-target-size);
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  /* touch-feedback */
  transition: transform var(--touch-feedback-duration) ease-in-out;
  cursor: pointer;
  /* custom */
  width: 2.75rem;
  height: 2.75rem;
  border-radius: 0.375rem;
  font-weight: 600;
  font-size: 1rem;
}

.number-input-control:active {
  transform: scale(var(--touch-feedback-scale));
}

.number-input-control:hover {
  transform: scale(1.02);
}

/* Toggle Switches - Larger for touch */
.touch-switch {
  min-width: 3rem;
  min-height: 1.75rem;
}

.touch-switch .switch-thumb {
  width: 1.25rem;
  height: 1.25rem;
}

/* Form Input Touch Enhancements */
.touch-input {
  min-height: var(--touch-target-size);
  padding: 0.75rem 1rem;
  font-size: 1rem;
  border-radius: 0.5rem;
}

.touch-textarea {
  min-height: 5rem;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  border-radius: 0.5rem;
  resize: vertical;
}

/* Responsive Touch Adjustments */

/* Tablet (768px+) */
@media (min-width: 768px) {
  :root {
    --touch-target-size: 3rem;
    --touch-target-large: 3.25rem;
    --touch-target-xl: 3.75rem;
  }
}

/* Desktop Touch Screens (1024px+) */
@media (min-width: 1024px) {
  :root {
    --touch-target-size: 2.75rem;
    --touch-target-large: 3rem;
    --touch-target-xl: 3.5rem;
  }
}

/* Large Touch Displays (1440px+) - Common in POS systems */
@media (min-width: 1440px) {
  :root {
    --touch-target-size: 3rem;
    --touch-target-large: 3.5rem;
    --touch-target-xl: 4rem;
  }

  .product-button {
    min-width: 4rem;
    min-height: 4rem;
    font-size: 1rem;
  }

  .category-button {
    min-height: 3.75rem;
    font-size: 1rem;
  }
}

/* Extra Large Displays (1920px+) - Large POS monitors */
@media (min-width: 1920px) {
  :root {
    --touch-target-size: 3.5rem;
    --touch-target-large: 4rem;
    --touch-target-xl: 4.5rem;
  }

  .product-button {
    min-width: 4.5rem;
    min-height: 4.5rem;
    font-size: 1.125rem;
  }

  .payment-button {
    min-height: 5rem;
    font-size: 1.25rem;
  }
}

/* Accessibility Enhancements */
@media (prefers-reduced-motion: reduce) {
  .touch-feedback,
  .touch-enhanced,
  .touch-ripple-enabled .touch-ripple::before,
  .product-button,
  .category-button,
  .order-control,
  .payment-button,
  .table-button,
  .number-input-control {
    transition: none;
  }

  .touch-feedback:active,
  .product-button:active,
  .category-button:active,
  .order-control:active,
  .payment-button:active,
  .table-button:active,
  .number-input-control:active {
    transform: none;
  }

  .touch-ripple-enabled .touch-ripple:active::before {
    width: 0;
    height: 0;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .touch-target,
  .touch-target-lg,
  .touch-target-xl,
  .product-button,
  .category-button,
  .order-control,
  .payment-button,
  .table-button {
    border: 2px solid currentColor;
  }

  .touch-enhanced:hover,
  .payment-button:hover {
    box-shadow: 0 0 0 3px currentColor;
  }
}

/* Focus Styles for Keyboard Navigation */
.touch-target:focus-visible,
.touch-target-lg:focus-visible,
.touch-target-xl:focus-visible,
.product-button:focus-visible,
.category-button:focus-visible,
.order-control:focus-visible,
.payment-button:focus-visible,
.table-button:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

/* Loading State for Touch Elements */
.touch-loading {
  position: relative;
  pointer-events: none;
  opacity: 0.7;
}

.touch-loading::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1.25rem;
  height: 1.25rem;
  margin: -0.625rem 0 0 -0.625rem;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Disabled State */
.touch-disabled {
  opacity: 0.5;
  pointer-events: none;
  cursor: not-allowed;
}

/* Success/Error States with Touch Feedback */
.touch-success {
  background-color: hsl(var(--chart-3));
  color: white;
}

.touch-error {
  background-color: hsl(var(--destructive));
  color: hsl(var(--destructive-foreground));
}

.touch-warning {
  background-color: hsl(var(--chart-4));
  color: hsl(var(--foreground));
}
